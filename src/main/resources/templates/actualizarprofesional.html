<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head th:replace="/fragments/head :: head">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/actualizaprofesional.css" rel="stylesheet">
</head>

<body>
    <nav th:replace="/fragments/navbar :: nav"></nav>

    <h1>Actualizar/Modificar datos del Profesional</h1>
    <div class="container">
        <form class="formulario" th:action="@{/perfil2/actualizar}" method="POST" enctype="multipart/form-data"
            style="margin: 0 20px;">
            <input hidden th:value="${profesional.id}" name="id">
            <div class="col-md-5">
                <label for="validationDefault01" class="form-label">Nombre</label>
                <input type="text" name="nombre" class="form-control" id="validationDefault01"
                    th:value="${profesional.nombre}" required>
            </div>
            <div class="col-md-5">
                <label for="validationDefault02" class="form-label">Apellido</label>
                <input type="text" name="apellido" class="form-control" id="validationDefault02"
                    th:value="${profesional.apellido}" required>
            </div>
            <div class="col-md-3">
                <label for="validationDefaultUsername" class="form-label">DNI o Identificación</label>
                <div class="input-group">
                    <span class="input-group-text" id="inputGroupPrepend2">Nº</span>
                    <input type="text" name="dni" class="form-control" id="validationDefault03"
                        th:value="${profesional.dni}" aria-describedby="inputGroupPrepend2" required>
                </div>
            </div>
            <div class="col-md-3">
                <label for="validationDefaultUsername" class="form-label">Matricula</label>
                <div class="input-group">
                    <span class="input-group-text" id="inputGroupPrepend2">MN/MP</span>
                    <input type="text" name="matricula" class="form-control" id="validationDefault03"
                        th:value="${profesional.matricula}" aria-describedby="inputGroupPrepend2" required>
                </div>
            </div>
            <div class="col-md-3">
                <label for="validationDefault08" class="form-label">Género</label>
                <select class="form-select" name="genero" aria-label="Default select example">
                    <option th:each="gen : ${generos}" th:value="${gen}" th:text="${gen}"
                        th:selected="${gen == profesional.genero}"></option>
                </select>
            </div>

            <div class="col-md-3">
                <label for="validationDefault04" class="form-label">Fecha de Nacimiento</label>
                <input type="text" class="form-control datepicker" id="validationDefault04" name="fecha_nac"
                    th:value="${profesional.fecha_nac}" required>
            </div>

            <div class="col-md-7">
                <label for="validationDefault01" class="form-label">Correo electrónico</label>
                <input type="text" name="email" class="form-control" id="validationDefault01"
                    value="Ingrese su correo electrónico" th:value="${profesional.email}" required>
            </div>
            <div class="col-md-7">
                <label for="validationDefault08" class="form-label">Seleccione coberturas trabajadas</label>
                <div class="checkbox-list">
                    <div th:each="obraSocial : ${obrasSociales}">
                        <div>
                            <input class="form-check-input" type="checkbox" id="obrasSocialesCheck${obraSocial}"
                                name="prestadores" th:value="${obraSocial}"
                                th:checked="${prestadores != null && prestadores.contains(obraSocial)}">
                            <label class="form-check-label" for="obrasSocialesCheck${obraSocial}"
                                th:text="${obraSocial}"></label>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <div class="col-12">
                <div class="col-md-6">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="atencionVirtual" name="atencionVirtual"
                            th:checked="${atencionVirtual}">
                        <label for="validationDefault09" class="form-label"> Atiende de manera virtual?</label>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-2">
                    <button class="btn-actualizar" type="submit">Actualizar</button>
                </div>
            </div>
        </div>
    </form>

    <!-- SCRIPTS -->
        <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/locales/bootstrap-datepicker.es.min.js"></script>

        <!-- Inicializa el selector de fecha -->
        <script>
            $(document).ready(function () {
                $('.datepicker').datepicker({
                    format: 'yyyy-mm-dd',
                    language: 'es',
                    autoclose: true
                });
            });
        </script>
    <!-- SCRIPTS -->
</body>

</html>